<documentation title="Function Comment">
    <standard>
        <![CDATA[
        Functions that return a value must have a `@return` docblock tag.

        This rule enforces:

        1. Functions with `non-void` return types (`string`, `bool`, etc.) must have a `@return` tag (nested anonymous function and closure returns will be ignored).
        2. Functions with `void` return types must NOT have `@return` tags, except generator functions.
        3. Generator functions must have a `@return` tag.

        Notes:

        - Both typed and untyped functions are checked.
        - Return types can be declared or inferred from function signature.
        - Magic methods (e.g. `__construct`, `__get`, etc.) are exempt from requiring `@return` tags.
        - Most magic methods are exempt from having `@return` tags removed, except those that return `void`: `__construct`, `__destruct`, `__clone`, `__set`, `__unset`, `__wakeup`, and `__unserialize`.
        - Fixing `@return` tags will have the type `mixed`, and generator functions will have the type `iterable`; these should then be edited manually to specific types.
        
        ---

        ]]>
    </standard>
    <code_comparison>
        <code title="✔️ Valid: @return tag for non-void function">
            <![CDATA[
/**
 * Get formatted string.
 *
 * @param string $input The input string
<em> *
 * @return string</em>
 */
public function formatString(string $input): string
{
}
            ]]>
        </code>
        <code title="❌ Invalid: Missing @return tag for non-void function">
            <![CDATA[
/**
 * Get formatted string.
 *
 * @param string $input The input string<em>
</em> */
public function formatString(string $input): string
{
}
            ]]>
        </code>
    </code_comparison>

    <code_comparison>
        <code title="✔️ Valid: No @return for void function">
            <![CDATA[
/**
 * Process data without returning anything.
 *
 * @param array $data The data to process<em>
</em> */
public function processData(array $data): void
{
}
            ]]>
        </code>
        <code title="❌ Invalid: @return tag on void function">
            <![CDATA[
/**
 * Process data without returning anything.
 *
 * @param array $data The data to process
 *
 * <em>@return void</em>
 */
public function processData(array $data): void
{
}
            ]]>
        </code>
    </code_comparison>

    <code_comparison>
        <code title="✔️ Valid: No @return for void constructor magic method">
            <![CDATA[
/**
 * Constructor method.<em>
</em> */
public function __construct()
{
}
            ]]>
        </code>
        <code title="❌ Invalid: @return tag on void constructor magic method">
            <![CDATA[
/**
 * Constructor method.
 *
 * <em>@return void</em>
 */
public function __construct()
{
}
            ]]>
        </code>
    </code_comparison>

    <code_comparison>
        <code title="✔️ Valid: @return tag for generator function">
            <![CDATA[
/**
 * Get formatted string.
 *
 * @param string $input The input string
<em> *
 * @return iterable</em>
 */
public function formatString(string $input)
{
    yield "Hello $input";
}
            ]]>
        </code>
        <code title="❌ Invalid: Missing @return tag for generator function">
            <![CDATA[
/**
 * Get formatted string.
 *
 * @param string $input The input string<em>
</em> */
public function formatString(string $input)
{
    yield "Hello $input";
}
            ]]>
        </code>
    </code_comparison>
</documentation>
